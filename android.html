<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Android Download - Murphy</title>
<style>
html, body {
    margin: 0; padding: 0; height: 100%;
    font-family: "Consolas","Segoe UI",monospace;
    background: #000; color: #e0e0e0;
}
.top-nav {
    position: fixed; top: 0; width: 100%;
    background: rgba(40,40,40,0.9);
    display: flex; justify-content: center; gap: 2rem;
    padding: 1rem 0; z-index: 10;
}
.top-nav a, .top-nav .dropbtn {
    color: #fff; text-decoration: none;
    font-weight: bold; font-size: 1.1rem;
    transition: 0.2s;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin: 0;
    font-family: inherit;
}
.top-nav a:hover, .top-nav .dropbtn:hover { color: #ff7e05; }
.top-nav .dropdown {
    position: relative;
    display: inline-block;
}
.top-nav .dropdown-content {
    display: none;
    position: absolute;
    top: 2.8rem;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(40,40,40,0.98);
    min-width: 120px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    border-radius: 5px;
    z-index: 100;
    flex-direction: column;
}
.top-nav .dropdown-content a {
    color: #fff;
    padding: 10px 18px;
    text-decoration: none;
    display: block;
    font-size: 1rem;
    white-space: nowrap;
    transition: background 0.15s;
}
.top-nav .dropdown-content a:hover {
    background: #222;
    color: #ff7e05;
}
.top-nav .dropdown:hover .dropdown-content,
.top-nav .dropdown:focus-within .dropdown-content {
    display: flex;
}
.page {
    padding: 100px 20px 40px 20px;
    max-width: 800px;
    margin: auto;
    line-height: 1.6;
}
.page h2 { color: #ff7e05; }
.box-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 120px);
    gap: 1.5rem;
    justify-items: center;
    align-items: center;
    margin: 3rem auto 0 auto;
    max-width: 500px;
}
.blank-box {
    width: 100px; height: 100px;
    background: rgba(30,30,30,0.85);
    border: 2px dashed #444;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 2.2rem; color: #ff7e05;
    transition: border 0.2s;
}
.blank-box:hover {
    border: 2px solid #ff7e05; background:rgba(50,50,50,0.85);
}
@media (max-width: 600px) {
    .box-grid {
        grid-template-columns: 1fr 1fr;
        grid-template-rows: repeat(3, 100px);
        max-width: 350px;
    }
}
/* Mute Button */
#muteBtn {
    position:fixed; bottom:20px; right:30px;
    background:rgba(30,30,30,0.95);
    border:none; color:#fff; font-size:1.7rem;
    border-radius:50%; width:48px; height:48px;
    box-shadow:0 2px 10px rgba(0,0,0,0.5);
    cursor:pointer; z-index:100;
    display:flex; align-items:center; justify-content:center;
    transition:background 0.2s;
}
#muteBtn:hover { background:rgba(255,126,5,0.8); }
.popup {
    position:fixed; top:50px; left:50%;
    transform:translateX(-50%);
    background:rgba(30,30,30,0.95);
    padding:20px; border-radius:8px;
    box-shadow:0 0 20px rgba(255,255,255,0.3);
    display:none; z-index:20; color:#fff;
}
</style>
</head>
<body>
<!-- Top Navigation -->
<div class="top-nav">
    <a href="index.html">Home</a>
    <div class="dropdown">
        <button class="dropbtn">Download â–¾</button>
        <div class="dropdown-content">
            <a href="pc.html">PC</a>
            <a href="android.html">Android</a>
        </div>
    </div>
    <a href="#" id="mainMenuBtn">Main Menu</a>
    <a href="#" id="feedbackBtn">Feedback</a>
    <a href="#" id="donateBtn">Donate</a>
</div>

<div class="page">
    <h2>ðŸ“± Android Page</h2>
    <div class="box-grid">
        <div class="blank-box"></div>
        <div class="blank-box"></div>
        <div class="blank-box"></div>
        <div class="blank-box"></div>
        <div class="blank-box"></div>
        <div class="blank-box"></div>
    </div>
</div>

<!-- Popups -->
<div class="popup" id="mainMenuPopup"><p>Coming soon...</p></div>
<div class="popup" id="feedbackPopup"><p>Send feedback to: <strong>murphy_uh123@yahoo.com</strong></p></div>
<div class="popup" id="donatePopup"><p>Paypal: <strong>ovadragoz@gmail.com</strong></p></div>

<!-- Mute/Unmute Button and Music -->
<button id="muteBtn" title="Mute/Unmute Music">ðŸ”Š</button>
<audio id="bgMusic" src="8bitodoriko.mp3" loop></audio>

<script>
// Popup toggle
function togglePopup(id){
    const p=document.getElementById(id);
    p.style.display = (p.style.display==='block') ? 'none' : 'block';
}
document.getElementById('mainMenuBtn').addEventListener('click', e=>{ e.preventDefault(); togglePopup('mainMenuPopup'); });
document.getElementById('feedbackBtn').addEventListener('click', e=>{ e.preventDefault(); togglePopup('feedbackPopup'); });
document.getElementById('donateBtn').addEventListener('click', e=>{ e.preventDefault(); togglePopup('donatePopup'); });

// Dropdown click/touch support (for mobile)
document.querySelector('.dropbtn').addEventListener('click', function(e) {
    e.preventDefault();
    var dropdown = this.parentElement.querySelector('.dropdown-content');
    dropdown.style.display = (dropdown.style.display === 'flex') ? 'none' : 'flex';
    // Hide on click outside
    document.addEventListener('click', function handler(ev) {
        if (!dropdown.contains(ev.target) && ev.target !== e.target) {
            dropdown.style.display = 'none';
            document.removeEventListener('click', handler);
        }
    });
});

// ====== Background Music Player ======
const audio = document.getElementById('bgMusic');
const muteBtn = document.getElementById('muteBtn');

// Restore state from localStorage
const musicKey = "murphyMusic";
let musicData = {};
try { musicData = JSON.parse(localStorage.getItem(musicKey)) || {}; } catch (e) {}

function saveMusicState() {
    musicData = {
        time: audio.currentTime,
        muted: audio.muted,
        playing: !audio.paused
    };
    localStorage.setItem(musicKey, JSON.stringify(musicData));
}

function restoreMusicState() {
    if(musicData.time) audio.currentTime = musicData.time;
    audio.muted = !!musicData.muted;
    muteBtn.textContent = audio.muted ? "ðŸ”‡" : "ðŸ”Š";
}

audio.volume = 0.1;
restoreMusicState();

function tryPlay() {
    if(musicData.playing === false) return;
    audio.play().catch(() => {
        document.body.addEventListener('click', () => { audio.play(); }, { once: true });
    });
}
tryPlay();

muteBtn.addEventListener('click', () => {
    audio.muted = !audio.muted;
    muteBtn.textContent = audio.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    saveMusicState();
});
audio.addEventListener('volumechange', () => {
    muteBtn.textContent = audio.muted ? 'ðŸ”‡' : 'ðŸ”Š';
    saveMusicState();
});
audio.addEventListener('pause', saveMusicState);
audio.addEventListener('play', saveMusicState);
audio.addEventListener('timeupdate', () => {
    if (!audio.paused) saveMusicState();
});
// Save state before leaving page
window.addEventListener('beforeunload', saveMusicState);
</script>
</body>
</html>
